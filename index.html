<!DOCTYPE html>
<html>
<head>
<title>Build-a-Bot</title>
<style>
body {
    background: linear-gradient(to right, #667eea, #764ba2);
    font-family: Arial;
}
.chatbox {
    width: 420px;
    margin: 40px auto;
    background: white;
    border-radius: 12px;
    overflow: hidden;
}
.header {
    background: #4a148c;
    color: white;
    padding: 12px;
    text-align: center;
    font-size: 18px;
}
.messages {
    height: 320px;
    overflow-y: auto;
    padding: 10px;
}
.user {
    background: #c8e6c9;
    padding: 6px;
    border-radius: 8px;
    margin: 5px;
    text-align: right;
}
.bot {
    background: #eeeeee;
    padding: 6px;
    border-radius: 8px;
    margin: 5px;
    text-align: left;
}
.controls {
    display: flex;
}
input {
    flex: 1;
    padding: 8px;
}
button {
    padding: 8px;
    background: #4a148c;
    color: white;
    border: none;
}
select {
    padding: 8px;
}
</style>
</head>
<body>

<div class="chatbox">
<div class="header">Multilingual Smart Bot</div>
<div id="chat" class="messages"></div>

<div class="controls">
<select id="lang">
<option value="en">English</option>
<option value="ta">Tamil</option>
<option value="hi">Hindi</option>
</select>
<input type="text" id="userInput" placeholder="Type message...">
<button onclick="sendMessage()">Send</button>
<button onclick="startVoice()">ðŸŽ¤</button>
</div>
</div>

<script>
function sendMessage() {
    let msg = document.getElementById("userInput").value;
    let lang = document.getElementById("lang").value;
    if(msg === "") return;

    let chat = document.getElementById("chat");
    chat.innerHTML += "<div class='user'>" + msg + "</div>";

    fetch("/chat", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({message: msg, lang: lang})
    })
    .then(res => res.json())
    .then(data => {
        chat.innerHTML += "<div class='bot'>" + data.reply + "</div>";
        chat.scrollTop = chat.scrollHeight;
    });

    document.getElementById("userInput").value = "";
}

// Voice input
function startVoice() {
    let recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "en-US";
    recognition.start();
    recognition.onresult = function(event) {
        document.getElementById("userInput").value = event.results[0][0].transcript;
    };
}
</script>

</body>
</html>
